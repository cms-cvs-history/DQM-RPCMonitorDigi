process TEST = {
       source = PoolSource {
 		untracked vstring fileNames = {'file:00000001_FilterUnitFramework_0_0.root'}
                untracked int32 maxEvents = 100
		untracked string moduleLogName= "RPCDigiDQM"
       }
	
	module rpcunpacker = RPCUnpackingModule{
                untracked bool PrintOut = false  
		untracked bool PrintHexDump = false
                untracked bool runDQM = false
	}
	


	service = MessageLogger {
    		vstring destinations = {"RpcUnpacker.log"}
                PSet RpcUnpacker.log     = {untracked bool noLineBreaks = true   }
                PSet detailedInfo.txt = {untracked int32  lineLength = 132    } 
       }


#################    Data Quality Monitoring:   #########################

	module rpcdigidqm = RPCMonitorDigi{}	

        service = DaqMonitorROOTBackEnd{}

        service = MonitorDaemon{
        # if true, will automatically start DQM thread in background
        	untracked bool AutoInstantiate=false
        # if >=0, upon a connection problem, the source will automatically
        # attempt to reconnect with a time delay (secs) specified here
        # (default: 5)
        	untracked int32 reconnect_delay = 5
        # collector hostname; examples:localhost(default),lxcmse2.cern.ch, etc
        	untracked string DestinationAddress = "lxplus012.cern.ch"
        # port for communicating with collector (default: 9090)
        	untracked int32 SendPort = 9090
        # monitoring period in ms (i.e. how often monitoring elements
        # are shipped to the collector; default: 1000)
        	untracked int32 UpdateDelay = 10
        # name of DQM source (default: DQMSource)
        	untracked string NameAsSource = "FU0"
        }
	
#################   For RPCRecHits   #########################

        include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
        include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
        include "Geometry/RPCGeometry/data/rpcGeometry.cfi"

	# The module for 1D RPC RecHit building
	include "RecoLocalMuon/RPCRecHit/data/RPCRecHit.cfi"



#################   Output module  #########################
  
	module out = PoolOutputModule {
        	untracked string fileName ="RPCDQMdigi.root"
	}
	 
#################   Path   #########################

	path p = {rpcunpacker,rpcrechitbuilder,rpcdigidqm}

}
