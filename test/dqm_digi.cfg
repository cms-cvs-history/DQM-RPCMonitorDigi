################# D. Lomidze INFN NAPOLI ############$

 process TEST = {

	include "CondCore/DBCommon/data/CondDBSetup.cfi"
	
	source = PoolSource {
	untracked vstring fileNames =   
	 {
 '/store/data/Commissioning08/Cosmics/RAW/CRUZET4_v1/000/058/344/0898F60C-FE6F-DD11-A8B0-000423D98F98.root',
        '/store/data/Commissioning08/Cosmics/RAW/CRUZET4_v1/000/058/344/2C981F11-FD6F-DD11-B4BD-000423D98DB4.root',
        '/store/data/Commissioning08/Cosmics/RAW/CRUZET4_v1/000/058/344/82FA3CF0-FC6F-DD11-9987-000423D6A6F4.root',
        '/store/data/Commissioning08/Cosmics/RAW/CRUZET4_v1/000/058/344/905F35C5-FD6F-DD11-B757-000423D6C8EE.root',
        '/store/data/Commissioning08/Cosmics/RAW/CRUZET4_v1/000/058/344/EC28B78D-FC6F-DD11-89DC-000423D94700.root',
        '/store/data/Commissioning08/Cosmics/RECO/CRUZET4_v1/000/058/344/7010A19C-0170-DD11-81A4-000423D94C68.root',
        '/store/data/Commissioning08/Cosmics/RECO/CRUZET4_v1/000/058/344/B6A43FA1-0170-DD11-B9F7-001617E30D00.root',
        '/store/data/Commissioning08/Cosmics/RECO/CRUZET4_v1/000/058/344/DA945A02-0370-DD11-9208-001617C3B654.root',
        '/store/data/Commissioning08/Cosmics/RECO/CRUZET4_v1/000/058/344/E661C7F8-0270-DD11-B285-001617C3B778.root',
        '/store/data/Commissioning08/Cosmics/RECO/CRUZET4_v1/000/058/344/EE370FA7-0170-DD11-B59E-000423D6C8E6.root'


	#'rfio:/castor/cern.ch/user/d/dlomidze/Cruzet1_Digi_043590.root'
       # 'rfio:/castor/cern.ch/user/d/dlomidze/Cruzet1_43590_1_55.root'
	#'file:/tmp/dlomidze/Cruzet1_43590_1_55.root'
	#'file:/tmp/dlomidze/Cruzet1_Digi_043590.root'
       	# 'file:/afs/cern.ch/user/d/dlomidze/scratch0/digi/gren30126_1_digi_new.root'
	# 'file:/afs/cern.ch/user/d/dlomidze/scratch0/digi/gren30126_2_digi.root',	
 	# 'file:/afs/cern.ch/user/d/dlomidze/scratch0/digi/gren30126_3_digi.root'



	#'file:/tmp/dlomidze/gren30129_3_digi.root'
}
        # untracked string moduleLogName= "RPCDigiDQM"
	untracked string moduleLogName= "source"

	}
	untracked PSet maxEvents = {untracked int32 input = 1000}

        


#service = DQMShipMonitoring{
#	// event-period for shipping monitoring to collector (default: 25)
#	untracked uint32 period = 5
#}


       	service = MessageLogger {
		 untracked vstring destinations = {"RpcMonitoring.log"}
       	 	PSet RpcUnpacker.log     = {untracked bool noLineBreaks = true   }
         	PSet detailedInfo.txt = {untracked int32  lineLength = 132    }        
	}

 #################    Raw To Digi:   #########################

         include "EventFilter/RPCRawToDigi/data/RPCUnpacking.cfi"

 #################    Data Quality Monitoring:   #########################
        include "DQM/RPCMonitorDigi/data/RPCDigiMonitoring.cfi"
	replace rpcdigidqm.DigiEventsInterval = 100
	replace rpcdigidqm.DigiDQMSaveRootFile =true
	replace rpcdigidqm.dqmshifter =true   	    	
	replace rpcdigidqm.dqmexpert =true		
	replace rpcdigidqm.dqmsuperexpert =true    	

	replace rpcdigidqm.RootFileNameDigi="Cruzet1_CERN_out.root"

include "DQMServices/Core/data/DQM.cfg"
	replace DQM.collectorHost = "myhost"
	replace DQM.collectorPort = 9090
	replace DQM.debug = false

service = ModuleWebRegistry {}
service = LockService {untracked vstring labels = {"source"} }
#service = DaqMonitorROOTBackEnd { }
#service = MonitorDaemon {
	
#	untracked bool AutoInstantiate = false
#	untracked int32 reconnect_delay = 5
#	untracked string DestinationAddress = "localhost"
#	untracked int32 SendPort = 9090
#	untracked int32 UpdateDelay = 1000	
#	untracked string NameAsSource = "FU0"
#}	



     #################   For RPCRecHits   #########################
	include "Geometry/MuonNumbering/data/muonNumberingInitialization.cfi"
        include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
        include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
        include "Geometry/RPCGeometry/data/rpcGeometry.cfi"

     # The module for 1D RPC RecHit building
     include "RecoLocalMuon/RPCRecHit/data/rpcRecHits.cfi"
     replace rpcRecHits.rpcDigiLabel = "rpcunpacker"
     #replace rpcRecHits.rpcDigiLabel = "muonRPCDigis"
 #################   Output module  #########################
	module out = PoolOutputModule {
             untracked string fileName ="RPCDQM.root"
     }
      #################   Path   #########################

     path p = {rpcunpacker}#,rpcRecHits,rpcdigidqm}
 }
