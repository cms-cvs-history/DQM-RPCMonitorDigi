process TEST = {
       source = PoolSource {
 		untracked vstring fileNames =	
		{
		//'file:/afs/cern.ch/user/s/segoni/scratch0/rpcTempData/RawData106_8_22_10_xx_3bx.root'
		'file:/afs/cern.ch/user/s/segoni/scratch0/rpcTempData/RPCdigi2372.root'
		}
                untracked int32 maxEvents = -1
		untracked string moduleLogName= "RPCDigiDQM"
       }
		
	service = MessageLogger {
    		untracked vstring destinations = {"RpcMonitoring.log"}
                PSet RpcUnpacker.log     = {untracked bool noLineBreaks = true   }
                PSet detailedInfo.txt = {untracked int32  lineLength = 132    } 
       }

#################    Raw To Digi:   #########################

        include "EventFilter/RPCRawToDigi/data/RPCUnpacking.cfi"

#################    Data Quality Monitoring:   #########################
        include "DQM/RPCMonitorDigi/data/RPCDigiMonitoring.cfi"
	replace rpcdigidqm.DigiDQMSaveRootFile =true 
	replace rpcdigidqm.RootFileNameDigi="/afs/cern.ch/user/s/segoni/scratch0/rpcTempData/DQM_2372.root"
        include "DQM/RPCMonitorDigi/data/RPCEfficiencyMonitoring.cfi"
        
	service = LockService{ untracked vstring labels = {"source"} }
	service = DaqMonitorROOTBackEnd{}
	include "DQMServices/Daemon/test/data/dqm_monitorDaemon.cfi"
	replace MonitorDaemon.AutoInstantiate = false
	replace MonitorDaemon.DestinationAddress ="lxplus060.cern.ch"
	
#################   For RPCRecHits   #########################

        include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
        include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
        include "Geometry/RPCGeometry/data/rpcGeometry.cfi"

	# The module for 1D RPC RecHit building
	include "RecoLocalMuon/RPCRecHit/data/RPCRecHit.cfi"
	replace rpcRecHits.rpcDigiLabel = "rpcunpacker"

#################   Output module  #########################
  
	module out = PoolOutputModule {
        	untracked string fileName ="RPCDQM.root"
	}
	 
#################   Path   #########################

	path p = {rpcRecHits,rpcdigidqm}
}
