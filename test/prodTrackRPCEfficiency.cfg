process RPCEff = {
	source = PoolSource{
	untracked vstring fileNames ={
"/store/data/2008/5/20/T0ReReco-GlobalCruzet1-A-v1/0005/EEAB3224-DC26-DD11-AB80-001D09F2906A.root"
	}
	untracked uint32 debugVebosity = 10
        untracked bool   debugFlag     = true
        }

	untracked PSet maxEvents = {untracked int32 input = 100}

##################################################################################    
#                                                                                # 
#                        R E C O N S T R U C T I O N                             #
#                                                                                #
##################################################################################    

   #include "Geometry/CMSCommonData/data/cmsSimIdealGeometryXML.cfi"

   #Magnetic Field
   include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

   # CSC
   include "Geometry/CSCGeometry/data/cscGeometry.cfi"
   # DT
   include "Geometry/DTGeometry/data/dtGeometry.cfi"
   #RPC
   include "Geometry/RPCGeometry/data/rpcGeometry.cfi"

   include "RecoLocalMuon/Configuration/data/RecoLocalMuon.cff"
   include "CalibMuon/Configuration/data/CSC_FrontierDBConditions.cff"
   include "CalibMuon/Configuration/data/DT_FrontierConditions.cff"

   #{dtlocalreco,csclocalreco}


   ## Geometry
   include "Geometry/CommonDetUnit/data/globalTrackingGeometry.cfi"
   include "RecoMuon/DetLayers/data/muonDetLayerGeometry.cfi"
   include "Geometry/MuonNumbering/data/muonNumberingInitialization.cfi"

   ## Propagator
   include "TrackPropagation/SteppingHelixPropagator/data/SteppingHelixPropagatorAlong.cfi"
   include "TrackPropagation/SteppingHelixPropagator/data/SteppingHelixPropagatorAny.cfi"


   ## Cosmic Reco
   include "RecoMuon/MuonSeedGenerator/data/CosmicMuonSeedProducer.cfi"
   include "RecoMuon/CosmicMuonProducer/data/cosmicMuons.cfi"

   replace cosmicMuons.TrajectoryBuilderParameters.EnableRPCMeasurement = false
   #replace cosmicMuons.TrajectoryBuilderParameters.BackwardMuonTrajectoryUpdatorParameters.MaxChi2=1.
   #replace cosmicMuons.TrajectoryBuilderParameters.MuonTrajectoryUpdatorParameters.MaxChi2=10.


   include "DQMServices/Core/data/DQM.cfg"
	replace DQM.collectorHost = "myhost"
	replace DQM.collectorPort = 9090
	replace DQM.debug = false

   service = ModuleWebRegistry {}
   service = LockService {untracked vstring labels = {"source"} }

   module rpcefftrack = RPCEfficiencyFromTrack{
	bool ReadEndCap = false
	bool ReadBarrel = true
	#Cut 
	double EfficiencyCut = 2.
	untracked int32 wheel = 1
	string PropagatorName = "SteppingHelixPropagatorAny"
	untracked string trajectoryInput =  "cosmicMuons"
	untracked string rpcRecHitLabel = "rpcRecHits"
	bool AreCosmic = true
	untracked string EffRootFileName = "file1.root"
	untracked string GlobalRootFileName = "file2.root"

   }

   path p1 = {cosmicMuons,rpcefftrack}
}

