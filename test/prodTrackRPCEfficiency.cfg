process RPCEff = {
	source = PoolSource{
	untracked vstring fileNames ={
		//ZMuMu CMSSW_1_7_0
		"/store/mc/2007/11/19/RelVal-RelValZMM-1195478550/0000/185A29AF-3A97-DC11-A6AB-000423D99896.root",
		"/store/mc/2007/11/19/RelVal-RelValZMM-1195478550/0000/2C13E0D7-2898-DC11-ABD1-000423D6B5C4.root",
		"/store/mc/2007/11/19/RelVal-RelValZMM-1195478550/0000/689E24F9-2898-DC11-B264-000423D9890C.root",
		"/store/mc/2007/11/19/RelVal-RelValZMM-1195478550/0000/A49CBEF5-3498-DC11-A688-001617DBD5AC.root"
		}

	untracked uint32 debugVebosity = 10
        untracked bool   debugFlag     = true
        }
	untracked PSet maxEvents = {untracked int32 input = 1000}

        include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
	include "Geometry/MuonNumbering/data/muonNumberingInitialization.cfi"

#-------------------------------- Muon Geometry --------------------------------
	## DT Geometry
        include "Geometry/DTGeometry/data/dtGeometry.cfi"
	## CSC Geometry
	include "Geometry/CSCGeometry/data/cscGeometry.cfi"
	## RPC Geometry
        include "Geometry/RPCGeometry/data/rpcGeometry.cfi"
#------------------------------------ DT ---------------------------------------

	## _Vdrift1D_ ##
	include "RecoLocalMuon/DTRecHit/data/dt1DRecHits_ParamDrift.cfi"

	## _Vdrift2D_ ##
	include "RecoLocalMuon/DTSegment/data/dt2DSegments_CombPatternReco2D_ParamDrift.cfi"

	## _4DAlgo ##
	include "RecoLocalMuon/DTSegment/data/dt4DSegments_CombPatternReco4D_ParamDrift.cfi"


#------------------------------------ CSC --------------------------------------
	
	## 2D RecHit	
	include "RecoLocalMuon/CSCRecHit/data/csc2DRecHits.cfi"

	## Segments
	include "RecoLocalMuon/CSCSegment/data/cscSegments.cfi"

#------------------------------------ RPC --------------------------------------


	# The module for 1D RPC RecHit building
	include "RecoLocalMuon/RPCRecHit/data/rpcRecHits.cfi"


       include "Geometry/CommonDetUnit/data/globalTrackingGeometry.cfi"
       #include "MagneticField/Engine/data/uniformMagneticField.cfi"
       include "RecoMuon/DetLayers/data/muonDetLayerGeometry.cfi"

#################### StandAlone Muon Reco ######################################   


	# Seed generator Finder
	include "RecoMuon/MuonSeedGenerator/data/standAloneMuonSeeds.cff"
	#replace MuonSeed.EnableCSCMeasurement = false


	# Standalone muon producer
	include "RecoMuon/StandAloneMuonProducer/data/standAloneMuons.cff"

	# to run only over DT and CSC measurements uncomment these cards

	replace standAloneMuons.STATrajBuilderParameters.RefitterParameters.EnableRPCMeasurement = false
	replace standAloneMuons.STATrajBuilderParameters.BWFilterParameters.EnableRPCMeasurement = false

#################### StandAlone Muon Reco ######################################


        include "TrackPropagation/SteppingHelixPropagator/data/SteppingHelixPropagator.cfi"

################ RPC Efficiency From Track #####################################

	module rpcefftrack = RPCEfficiencyFromTrack{
		bool ReadEndCap = false
		bool ReadBarrel = true

		#Cut expressed in cm
		double EfficiencyCut = 10.
 		string PropagatorName = "SteppingHelixPropagator"
		untracked string trajectoryInput =  "standAloneMuons"
		untracked string rpcRecHitLabel = "rpcRecHits"
		untracked string EffRootFileName = "/tmp/groselli/RPCEfficiencyFromTrack_ZMuMu.root"
		untracked string GlobalRootFileName ="/tmp/groselli/GlobalEfficiencyFromTrack_ZMuMu.root"

	}


	service = DaqMonitorROOTBackEnd{}
	service = MonitorDaemon {
	       untracked   bool AutoInstantiate    = false
	       untracked  int32 reconnect_delay    = 5
	       untracked string DestinationAddress = "cmsdaquser0.cern.ch"
	       untracked  int32 SendPort           = 9090
	       untracked string NameAsSource       = "GlobalDQM"
	}

	#Complete path for Run starting From digis of all muon detectors
	path p = {dt1DRecHits, dt2DSegments, dt4DSegments, csc2DRecHits, cscSegments,rpcRecHits, MuonSeed, standAloneMuons, rpcefftrack}

	#If rechit, segments and track exists
	#path p = {rpcefftrack}
}
